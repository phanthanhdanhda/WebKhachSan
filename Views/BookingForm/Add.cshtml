@model WebCK.Models.BookingForm
@using Microsoft.AspNetCore.Mvc.Rendering

<body>
    <div class="container">
        <h3 style="text-align:center">Điền đơn đặt phòng</h3>
        <form method="post" enctype="multipart/form-data" asp-action="Add">
            <div class="row">
                <div class="form-group col-7">
                    <label asp-for="FullName">Tên</label>
                    <input asp-for="FullName" class="form-control" type="text" />
                    <span asp-validation-for="FullName" class="text-danger"></span>
                </div>
                <div class="form-group col-2">
                    <label asp-for="Age">Tuổi</label>
                    <input asp-for="Age" class="form-control" type="number" />
                </div>
                <div class="form-group col-3">
                    <label asp-for="PhoneNumber">SĐT liên lạc</label>
                    <input asp-for="PhoneNumber" class="form-control" type="tel" />
                </div>
                <div class="form-group col-4">
                    <label asp-for="NumberOfGuests">Số người</label>
                    <input asp-for="NumberOfGuests" class="form-control" type="number" />
                    <span asp-validation-for="NumberOfGuests" class="text-danger"></span>
                </div>
                <div class="form-group col-4">
                    <label asp-for="CheckInDate">Ngày nhận phòng</label>
                    <input asp-for="CheckInDate" id="checkInDate" class="form-control" type="date" placeholder="nn/tt/nnnn" />
                    <span asp-validation-for="CheckInDate" class="text-danger"></span>
                </div>
                <div class="form-group col-4">
                    <label asp-for="CheckOutDate">Ngày trả phòng</label>
                    <input asp-for="CheckOutDate" id="checkOutDate" class="form-control" type="date" placeholder="nn/tt/nnnn" />
                    <span asp-validation-for="CheckOutDate" class="text-danger"></span>
                </div>
                <div class="form-group col-6">
                    <label asp-for="BookingFee">Phí thuê</label>
                    <input asp-for="BookingFee" id="bookingFee" class="form-control" readonly value="@ViewBag.RoomPrice" />
                </div>
                <div class="form-group col-6">
                    <label asp-for="Deposit">Tiền cọc</label>
                    <input asp-for="Deposit" id="deposit" class="form-control" readonly value="@ViewBag.Deposit" />
                </div>
                <div class="form-group col-12" style="text-align:center">
                    <button type="submit" asp-route-roomId="@ViewBag.RoomId" class="btn btn-primary">Xác nhận</button>
                    <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Hủy</a>
                </div>
            </div>
        </form>
    </div>
</body>
@* <script>
    $(document).ready(function () {
        $("#checkInDate, #checkOutDate").change(function () {
            var checkInDate = $("#checkInDate").val();
            var checkOutDate = $("#checkOutDate").val();
            var roomId = "@ViewBag.RoomId";

            $.ajax({
                url: "@Url.Action("CalculateRent", "BookingForm")",
                type: "POST",
                data: { roomId: roomId, checkInDate: checkInDate, checkOutDate: checkOutDate },
                success: function (data) {
                    $("#bookingFee").val(data.totalRentPrice);
                    $("#deposit").val(data.depositAmount);
                }
            });
        });
    });
</script> *@
